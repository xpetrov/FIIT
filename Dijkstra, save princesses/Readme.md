Университетский проект. "Рыцарь"

Задание:
В качестве входных данных передается карта в виде двумерного массива типа char. Каждая ячейка массива содержит одну из следующих букв:
	C - лесная тропинка
	H - густой куст, проходя через который, скорость в 2 раза меньше обычной
	N - непроходимое препятствие, например скала
	D - дракон
	P - принцесса.
Нужно имплементировать следующую функцию:
int *save_princesses(char **map, int n, int m, int t, int *path_length);
Эта функция должна найти путь, идя которым, он как можно быстрее уничтожит дракона и спасет все 3 принцессы. Карта имеет высоту n и ширину m. Найденный путь верните в виде последовательности координат всех посещенных клеточек. В начале рыцарь всегда находится в клетке (0,0), а в конце в клетке, где находится одна из трех принцес.

Решение:
Сначала реализуем алгоритм Дейкстры. Потом с помощью него перебираем все возможные варианты пути, например дракон-пр1-пр2-пр3 или дракон-пр2-пр1-пр3 и тд.